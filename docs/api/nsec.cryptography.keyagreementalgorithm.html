<!DOCTYPE html>
<html lang="en"><head><title>KeyAgreementAlgorithm Class | NSec</title><meta content="Represents a key agreement algorithm." name="description"><link href="https://nsec.rocks/docs/api/nsec.cryptography.keyagreementalgorithm" rel="canonical"><link href="/style.css" rel="stylesheet"><meta content="width=device-width, initial-scale=1" name="viewport"></head><body><header><div class="icons"><a class="icon nuget-icon" href="https://www.nuget.org/packages/NSec.Cryptography/25.4.0" title="NuGet"></a><a class="icon github-icon" href="https://github.com/ektrah/nsec" title="GitHub"></a></div><nav><ol typeof="BreadcrumbList" vocab="https://schema.org/"><li property="itemListElement" typeof="ListItem"><a href="/" property="item" typeof="WebPage"><span property="name">NSec</span></a><meta content="1" property="position"></li> / <li property="itemListElement" typeof="ListItem"><a href="/docs/" property="item" typeof="WebPage"><span property="name">NSec Documentation</span></a><meta content="2" property="position"></li> / <li property="itemListElement" typeof="ListItem"><a href="/docs/api/" property="item" typeof="WebPage"><span property="name">API Reference</span></a><meta content="3" property="position"></li> / <li property="itemListElement" typeof="ListItem"><a href="/docs/api/nsec.cryptography" property="item" typeof="WebPage"><span property="name">NSec.Cryptography</span></a><meta content="4" property="position"></li> / <li property="itemListElement" typeof="ListItem"><span property="name">KeyAgreementAlgorithm</span><meta content="5" property="position"></li></ol></nav></header><main><h1>KeyAgreementAlgorithm Class</h1><p>Represents a key agreement algorithm.</p><pre data-lang="C#"><span class="k">public</span> <span class="k">abstract</span> <span class="k">class</span> KeyAgreementAlgorithm : Algorithm</pre><h2 id="inheritance-hierarchy">Inheritance Hierarchy</h2><ul><li><a href="/docs/api/nsec.cryptography.algorithm">Algorithm</a><ul><li><strong>KeyAgreementAlgorithm</strong><ul><li>X25519</li></ul></li></ul></li></ul><h2 id="summary">Summary</h2><nav><ul><li><a href="#static-properties">Static Properties</a><ul><li><a href="#x25519">X25519</a></li></ul></li><li><a href="#properties">Properties</a><ul><li><a href="#privatekeysize">PrivateKeySize</a></li><li><a href="#publickeysize">PublicKeySize</a></li><li><a href="#sharedsecretsize">SharedSecretSize</a></li></ul></li><li><a href="#methods">Methods</a><ul><li><a href="#agree-key-publickey-in-sharedsecretcreationparameters">Agree(Key, PublicKey, in SharedSecretCreationParameters)</a></li></ul></li><li><a href="#thread-safety">Thread Safety</a></li><li><a href="#purity">Purity</a></li><li><a href="#see-also">See Also</a></li></ul></nav><h2 id="static-properties">Static Properties</h2><h3 id="x25519">X25519</h3><p>Gets the X25519 key agreement algorithm.</p><pre data-lang="C#"><span class="k">public</span> <span class="k">static</span> X25519 X25519 { <span class="k">get</span>; }</pre><h2 id="properties">Properties</h2><h3 id="privatekeysize">PrivateKeySize</h3><p>Gets the size of private keys.</p><pre data-lang="C#"><span class="k">public</span> <span class="k">int</span> PrivateKeySize { <span class="k">get</span>; }</pre><h4>Property Value</h4><p>The private key size, in bytes.</p><h3 id="publickeysize">PublicKeySize</h3><p>Gets the size of public keys.</p><pre data-lang="C#"><span class="k">public</span> <span class="k">int</span> PublicKeySize { <span class="k">get</span>; }</pre><h4>Property Value</h4><p>The public key size, in bytes.</p><h3 id="sharedsecretsize">SharedSecretSize</h3><p>Gets the size of a shared secret resulting from key agreement.</p><pre data-lang="C#"><span class="k">public</span> <span class="k">int</span> SharedSecretSize { <span class="k">get</span>; }</pre><h4>Property Value</h4><p>The shared secret size, in bytes.</p><h2 id="methods">Methods</h2><h3 id="agree-key-publickey-in-sharedsecretcreationparameters">Agree(Key, PublicKey, in SharedSecretCreationParameters)</h3><p>Creates a shared secret from a private and a public key.</p><pre data-lang="C#"><span class="k">public</span> SharedSecret? Agree(
    Key key,
    PublicKey otherPartyPublicKey,
    <span class="k">in</span> SharedSecretCreationParameters creationParameters = <span class="k">default</span>)</pre><h4>Parameters</h4><dl><dt>key</dt><dd>The private key to use to create the shared secret.</dd><dt>otherPartyPublicKey</dt><dd>The public key of the other party to use to create the shared secret.
Key agreement fails if this is an invalid public key.</dd><dt>creationParameters</dt><dd>A <a href="/docs/api/nsec.cryptography.sharedsecretcreationparameters">SharedSecretCreationParameters</a>
value that specifies advanced parameters for the creation of the
<a href="/docs/api/nsec.cryptography.sharedsecret">SharedSecret</a> instance.</dd></dl><h4>Return Value</h4><p>A new instance of the <a href="/docs/api/nsec.cryptography.sharedsecret">SharedSecret</a> class that represents
the shared secret created from <code>key</code> and <code>otherPartyPublicKey</code>, or <code>null</code> if key
agreement fails.</p><h4>Exceptions</h4><dl><dt>ArgumentNullException</dt><dd><code>key</code> or <code>otherPartyPublicKey</code> is <code>null</code>.</dd><dt>ArgumentException</dt><dd><code>key.Algorithm</code> or <code>otherPartyPublicKey.Algorithm</code> is not the same object as
the current <a href="/docs/api/nsec.cryptography.keyagreementalgorithm">KeyAgreementAlgorithm</a> object.</dd><dt>ObjectDisposedException</dt><dd><code>key</code> has been disposed.</dd></dl><h2 id="thread-safety">Thread Safety</h2><p>All members of this type are thread safe.</p><h2 id="purity">Purity</h2><p>All methods yield the same result for the same arguments.</p><h2 id="see-also">See Also</h2><ul><li>API Reference<ul><li><a href="/docs/api/nsec.cryptography.algorithm">Algorithm Class</a></li><li><a href="/docs/api/nsec.cryptography.key">Key Class</a></li><li><a href="/docs/api/nsec.cryptography.publickey">PublicKey Class</a></li><li><a href="/docs/api/nsec.cryptography.sharedsecret">SharedSecret Class</a></li><li><a href="/docs/api/nsec.cryptography.sharedsecretcreationparameters">SharedSecretCreationParameters Struct</a></li></ul></li></ul></main><footer><p><a href="/license" rel="terms-of-use">&#169; 2025 Individual Contributors</a></p></footer></body></html>